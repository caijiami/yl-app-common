var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _react=_interopRequireDefault(require("react"));var _reactNative=require("react-native");var _IconFont=_interopRequireDefault(require("~/components/IconFont"));var _reactNativeRouterFlux=require("react-native-router-flux");var _kit=require("../utils/kit");var _Text=_interopRequireDefault(require("./Text"));var _reactNativePaper=require("react-native-paper");var _this=this,_jsxFileName="/Users/huxiaojun/project/yl-app-common/src/components/NavBar.js";var NavBar=function NavBar(props){var _useTheme=(0,_reactNativePaper.useTheme)(),colors=_useTheme.colors;var _props$rightIconType=props.rightIconType,rightIconType=_props$rightIconType===void 0?'image':_props$rightIconType,_props$rightIconProps=props.rightIconProps,rightIconProps=_props$rightIconProps===void 0?{}:_props$rightIconProps,rightIcon=props.rightIcon,_props$titleStyle=props.titleStyle,titleStyle=_props$titleStyle===void 0?{}:_props$titleStyle,leftIcon=props.leftIcon,rightText=props.rightText,modal=props.modal,loading=props.loading;var ImageContainer=null;if(rightIconType==='iconfont'){ImageContainer=_IconFont.default;rightIconProps.name=rightIcon;}else if(rightIconType==='image'){ImageContainer=_reactNative.Image;rightIconProps.source=rightIcon;}else{throw new Error('不支持的icon类型');}var onLeftPress=function onLeftPress(){if(props.onLeftPress){props.onLeftPress(_reactNativeRouterFlux.Actions.pop);}else{_reactNativeRouterFlux.Actions.pop();}};return _react.default.createElement(_reactNative.View,{style:[styles.navBar,props.style],__self:_this,__source:{fileName:_jsxFileName,lineNumber:49,columnNumber:5}},_react.default.createElement(_reactNative.View,{style:styles.content,__self:_this,__source:{fileName:_jsxFileName,lineNumber:50,columnNumber:7}},leftIcon!==false&&_react.default.createElement(_reactNative.TouchableOpacity,{style:styles.returnIcon,onPress:onLeftPress,__self:_this,__source:{fileName:_jsxFileName,lineNumber:52,columnNumber:11}},_react.default.createElement(_IconFont.default,{name:!!modal?'shanchuCha':'fanhui',size:17,color:leftIcon?leftIcon.color:colors.text,__self:_this,__source:{fileName:_jsxFileName,lineNumber:53,columnNumber:13}}),_react.default.createElement(_Text.default,{style:{marginLeft:5},__self:_this,__source:{fileName:_jsxFileName,lineNumber:58,columnNumber:13}},!!modal?'关闭':'返回')),_react.default.createElement(_reactNative.View,{style:styles.titleContainer,__self:_this,__source:{fileName:_jsxFileName,lineNumber:61,columnNumber:9}},_react.default.createElement(_Text.default,{numberOfLines:1,size:"large",style:[styles.title,titleStyle],__self:_this,__source:{fileName:_jsxFileName,lineNumber:62,columnNumber:11}},props.title),loading&&_react.default.createElement(_reactNativePaper.ActivityIndicator,{size:18,animating:true,__self:_this,__source:{fileName:_jsxFileName,lineNumber:68,columnNumber:23}})),!!rightText&&_react.default.createElement(_Text.default,{numberOfLines:1,style:[props.rightTextStyle,styles.rightText],onPress:function onPress(){props.onRightTextClick&&props.onRightTextClick();},__self:_this,__source:{fileName:_jsxFileName,lineNumber:71,columnNumber:11}},rightText),!!rightIcon&&_react.default.createElement(_reactNative.TouchableOpacity,{style:styles.rightIcon,onPress:function onPress(){props.onRightIconClick&&props.onRightIconClick();},__self:_this,__source:{fileName:_jsxFileName,lineNumber:81,columnNumber:11}},_react.default.createElement(ImageContainer,(0,_extends2.default)({},rightIconProps,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:86,columnNumber:13}})))));};var styles=_reactNative.StyleSheet.create({navBar:{marginTop:_reactNative.Platform.select({android:_reactNative.StatusBar.currentHeight+(0,_kit.px2dp)(14),ios:(0,_kit.px2dp)(14)}),height:30},content:{flexDirection:'row',alignItems:'center'},titleContainer:{flexDirection:'row',justifyContent:'center',width:200,position:'absolute',left:'50%',transform:[{translateX:-100}]},title:{textAlign:'center',fontWeight:_reactNative.Platform.select({android:'700',ios:'500'})},returnIcon:{position:'absolute',left:(0,_kit.px2dp)(15),flexDirection:'row',alignItems:'center'},rightIcon:{position:'absolute',height:50,width:50,justifyContent:'center',alignItems:'flex-end',right:(0,_kit.px2dp)(15)},rightText:{position:'absolute',right:(0,_kit.px2dp)(15)}});var _default=_react.default.memo(NavBar);exports.default=_default;